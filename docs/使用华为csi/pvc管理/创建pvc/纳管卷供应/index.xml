<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>纳管卷供应 on Huawei</title>
    <link>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/</link>
    <description>Recent content in 纳管卷供应 on Huawei</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <atom:link href="https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>纳管卷供应典型场景StorageClass配置示例</title>
      <link>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AFstorageclass%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AFstorageclass%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B/</guid>
      <description>纳管卷供应典型场景下StorageClass配置请参考如下示例：&#xA;StorageClass中设置后端和存储池 StorageClass中设置NFS访问方式 StorageClass中设置本地文件系统访问方式 StorageClass中设置DPC访问方式 StorageClass中设置挂载目录权限 StorageClass中设置后端和存储池 如果在一个Kubernetes集群中配置了多个华为后端，或者一个华为后端提供多个存储池，建议在StorageClass中配置指定的后端和存储池信息，避免华为CSI随机选择后端和存储池，导致卷所在的存储不符合规划。&#xA;SAN存储设置后端和存储池可以参考如下配置示例。&#xA;kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: mysc provisioner: csi.huawei.com allowVolumeExpansion: true parameters: backend: &amp;#34;iscsi-san-181&amp;#34; pool: &amp;#34;pool001&amp;#34; volumeType: lun allocType: thin NAS存储设置后端和存储池可以参考如下配置示例。&#xA;kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: mysc provisioner: csi.huawei.com allowVolumeExpansion: true parameters: backend: &amp;#34;iscsi-nas-181&amp;#34; pool: &amp;#34;pool001&amp;#34; volumeType: fs allocType: thin authClient: &amp;#34;*&amp;#34; StorageClass中设置NFS访问方式 容器使用NFS文件系统作为存储资源时，可以参考如下配置示例。该示例中，NFS挂载时指定版本为4.1。&#xA;kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: mysc provisioner: csi.huawei.com parameters: backend: nfs-nas-181 pool: pool001 volumeType: fs allocType: thin mountOptions: - nfsvers=4.</description>
    </item>
    <item>
      <title>纳管卷供应StorageClass参数说明</title>
      <link>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94storageclass%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94storageclass%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/</guid>
      <description>存储类（StorageClass）为管理员提供了描述存储 &amp;ldquo;类&amp;rdquo; 的方法。 不同的类型可能会映射到一组不同的能力定义。Kubernetes集群用户可基于StorageClass进行动态卷制备。&#xA;StorageClass支持配置如下参数信息。&#xA;使用SAN存储时可参考示例文件/examples/sc-lun.yaml，使用NAS存储时可参考示例文件/examples/sc-fs.yaml。&#xA;表 1 StorageClass配置参数说明&#xA;参数&#xA;说明&#xA;必选参数&#xA;默认值&#xA;备注&#xA;metadata.name&#xA;自定义的StorageClass对象名称。&#xA;是&#xA;-&#xA;以Kubernetes v1.22.1为例，支持数字、小写字母、中划线（-）和点（.）的组合，并且必须以字母数字开头和结尾。&#xA;provisioner&#xA;制备器名称。&#xA;是&#xA;csi.huawei.com&#xA;该字段需要指定为安装华为CSI时设置的驱动名。&#xA;取值和values.yaml文件中driverName一致。&#xA;reclaimPolicy&#xA;回收策略。支持如下类型：&#xA;Delete：自动回收资源。Retain：手动回收资源。 是&#xA;-&#xA;Delete：删除PV/PVC时会关联删除存储上的资源。Retain：删除PV/PVC时不会删除存储上的资源。 allowVolumeExpansion&#xA;是否允许卷扩展。参数设置为true 时，使用该StorageClass的PV可以进行扩容操作。&#xA;否&#xA;false&#xA;此功能仅可用于扩容PV，不能用于缩容PV。&#xA;扩容PV功能在Kubernetes 1.14 (alpha)后才支持。&#xA;parameters.backend&#xA;待创建资源所在的后端名称。&#xA;否&#xA;-&#xA;如果不设置，华为CSI随机选择一个满足容量要求的后端创建资源。&#xA;建议指定后端，确保创建的资源在预期的后端上。&#xA;parameters.volumeType&#xA;待创建卷类型。支持如下类型：&#xA;lun：存储侧发放的资源是LUN。fs：存储侧发放的资源是文件系统。 是&#xA;-&#xA;使用NAS存储时，必须配置为fs。使用SAN存储时，必须配置为lun。 parameters.fsType&#xA;主机文件系统类型。支持类型为：&#xA;ext2ext3ext4xfs 否&#xA;ext4&#xA;仅当StorageClass的volumeType设置为“lun”，且PVC的volumeMode配置为“Filesystem”时生效。&#xA;parameters.applicationType&#xA;后端为OceanStor Dorado存储时，指定创建LUN/NAS时的应用类型名称。&#xA;说明： 若卷纳管前已配置应用类型，applicationType必须与已配置的应用类型保持一致。&#xA;否&#xA;-&#xA;“volumeType”为“lun”时，在DeviceManager管理界面，选择“服务 &amp;gt; 块服务 &amp;gt; LUN组 &amp;gt; LUN &amp;gt; 创建 &amp;gt; 应用类型”，获取应用类型名称。“volumeType”为“fs”时，在DeviceManager管理界面，选择“服务 &amp;gt; 文件服务 &amp;gt; 文件系统 &amp;gt; 创建 &amp;gt; 应用类型”，获取应用类型名称。 parameters.</description>
    </item>
    <item>
      <title>纳管卷供应PVC参数说明</title>
      <link>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94pvc%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://huawei.github.io/css-docs/docs/%E4%BD%BF%E7%94%A8%E5%8D%8E%E4%B8%BAcsi/pvc%E7%AE%A1%E7%90%86/%E5%88%9B%E5%BB%BApvc/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94/%E7%BA%B3%E7%AE%A1%E5%8D%B7%E4%BE%9B%E5%BA%94pvc%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E/</guid>
      <description>在完成配置StorageClass以后，就可以用该StorageClass来配置PVC。PVC的配置模板请参考华为CSI软件包中的examples目录下的pvc-manager.yaml文件示例。&#xA;表 1 pvc-manager.yaml文件示例参数说明&#xA;参数&#xA;说明&#xA;必选参数&#xA;默认值&#xA;备注&#xA;metadata.annotations&#xA;PVC对象的注释。配置以下参数：&#xA;驱动名称/manageVolumeName：卷在存储侧的名称。驱动名称/manageBackendName：卷所属后端的名称。 是&#xA;csi.huawei.com/manageVolumeName: * csi.huawei.com/manageBackendName: *&#xA;驱动名称获取请参考表4。驱动名称/manageVolumeName：为存储上已有卷的名称，除英文字符外，其他国家字符不支持。驱动名称/manageBackendName：CSI中存储后端的名称。 可执行oceanctl get backend -n huawei-csi命令获取后端名称。&#xA;metadata.labels&#xA;PVC对象的标签。&#xA;否&#xA;-&#xA;格式：provisioner: 安装时指定的驱动名称。&#xA;例如 provisioner: csi.huawei.com。&#xA;该参数在创建PVC时生效，用于监听PVC资源，获取metadata.annotations信息。&#xA;metadata.name&#xA;自定义的PVC对象名称。&#xA;是&#xA;-&#xA;以Kubernetes v1.22.1为例，支持数字、小写字母、中划线（-）和点（.）的组合，并且必须以字母数字开头和结尾。&#xA;spec.volumeMode&#xA;卷模式。可选参数。 当使用LUN类型的卷时，支持配置以下类型：&#xA;Filesystem：本地文件系统。Block：裸设备。 说明： 该参数在挂载PV时生效，需要与纳管卷的使用方式保持一致。&#xA;如果卷纳管之前是以裸卷方式使用，volumeMode必须配置为Block。如果卷纳管之前是以ext2/ext3/ext4方式使用，volumeMode必须配置为Filesystem，且StorageClass中fsType必须指定为ext2/ext3/ext4。如果卷纳管之前是以XFS方式使用，volumeMode必须配置为Filesystem，且StorageClass中fsType必须指定为xfs。 否&#xA;Filesystem&#xA;该参数在挂载PV时生效。&#xA;Filesystem表示在容器通过一个本地文件系统访问PV，本地文件系统类型为指定StorageClass中的fsType字段指定。Block表示使用裸卷的方式访问访问PV。 spec.storageClassName&#xA;StorageClass对象名称。&#xA;是&#xA;-&#xA;StorageClass的配置需要与纳管卷的配置保持一致。&#xA;spec.resources.requests.storage&#xA;指定待创建卷大小，格式为***Gi，单位为GiB。需要满足大小为512字节的整数倍。&#xA;是&#xA;-&#xA;PVC容量的规格取决于存储规格限制和主机规格限制。以OceanStor Dorado 6.1.2/OceanStor Pacific系列 8.1.0对接CentOS 7为例，当使用的是ext4文件系统时，容量限制见表2；当使用的是XFS文件系统时，容量限制见表3。如果使用的是NFS或者裸设备，容量需满足使用的华为存储设备型号和版本所要求的规格约束。&#xA;如果PVC容量不在规格范围内，可能会由于存储规格限制或主机文件系统规格限制导致创建PVC或Pod失败。&#xA;spec.accessModes&#xA;指定卷访问模式。&#xA;RWO（ReadWriteOnce）：卷可以被一个节点以读写方式挂载。 该模式也允许运行在同一节点上的多个 Pod 访问卷。ROX（ReadOnlyMany）：卷可以被多个节点以只读方式挂载。RWX（ReadWriteMany）：卷可以被多个节点以读写方式挂载。RWOP（ReadWriteOncePod）：卷只能被单个 Pod 以读写方式挂载。该特性需要 Kubernetes 1.</description>
    </item>
  </channel>
</rss>
