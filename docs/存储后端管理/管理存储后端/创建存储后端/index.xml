<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>创建存储后端 on Huawei</title>
    <link>https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/</link>
    <description>Recent content in 创建存储后端 on Huawei</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <atom:link href="https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>典型场景存储后端配置文件示例</title>
      <link>https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AF%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AF%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B/</guid>
      <description>典型场景的backend配置请参考下列示例，详细的参数配置请参考存储后端配置项说明。&#xA;配置iSCSI协议类型的存储后端 配置FC协议类型的存储后端 配置NVMe over RoCE协议类型的存储后端 配置NVMe over FC协议类型的存储后端 配置NFS协议类型的存储后端 配置SCSI协议类型的存储后端 配置DPC协议类型的存储后端 配置Dtree类型的存储后端 配置双活类型的存储后端 配置iSCSI协议类型的存储后端 如果要使用iSCSI协议类型，请确保在安装华为CSI前，主机上已安装iSCSI客户端，可通过检查主机依赖软件状态章节检查。如未安装iSCSI客户端，请在安装iSCSI客户端之后重启huawei-csi-node服务，重启期间，不能使用华为CSI创建新的资源，或者对已有的PVC做挂载/卸载操作。参考命令如下：&#xA;kubectl delete pods -n huawei-csi -l app=huawei-csi-node 企业存储配置iSCSI协议类型的后端配置文件示例如下：&#xA;storage: &amp;#34;oceanstor-san&amp;#34; name: &amp;#34;dorado-iscsi-155&amp;#34; namespace: &amp;#34;huawei-csi&amp;#34; urls: - &amp;#34;https://192.168.129.155:8088&amp;#34; - &amp;#34;https://192.168.129.156:8088&amp;#34; pools: - &amp;#34;StoragePool001&amp;#34; parameters: protocol: &amp;#34;iscsi&amp;#34; portals: - &amp;#34;192.168.128.120&amp;#34; - &amp;#34;192.168.128.121&amp;#34; maxClientThreads: &amp;#34;30&amp;#34; 分布式存储配置iSCSI协议类型的后端配置文件示例如下：&#xA;storage: &amp;#34;fusionstorage-san&amp;#34; name: &amp;#34;pacific-iscsi-125&amp;#34; namespace: &amp;#34;huawei-csi&amp;#34; urls: - &amp;#34;https://192.168.129.125:8088&amp;#34; - &amp;#34;https://192.168.129.126:8088&amp;#34; pools: - &amp;#34;StoragePool001&amp;#34; parameters: protocol: &amp;#34;iscsi&amp;#34; portals: - &amp;#34;192.168.128.122&amp;#34; - &amp;#34;192.</description>
    </item>
    <item>
      <title>存储后端配置项说明</title>
      <link>https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E9%A1%B9%E8%AF%B4%E6%98%8E/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://huawei.github.io/css-docs/docs/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E7%AE%A1%E7%90%86/%E7%AE%A1%E7%90%86%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF/%E5%AD%98%E5%82%A8%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E9%A1%B9%E8%AF%B4%E6%98%8E/</guid>
      <description>后端配置文件样例模板为/examples/backend/backend.yaml，该文件为一个示例文件，具体配置项如下表所示：&#xA;表 1 backend配置项说明&#xA;参数&#xA;描述&#xA;必选参数&#xA;默认值&#xA;备注&#xA;storage&#xA;存储服务类型。&#xA;企业存储提供SAN存储时填写oceanstor-san。企业存储提供NAS存储时填写oceanstor-nas。企业存储提供Dtree类型的NAS存储时填写oceanstor-dtree。分布式存储提供SAN存储时填写fusionstorage-san。分布式存储提供NAS存储时填写fusionstorage-nas。 是&#xA;oceanstor-nas&#xA;一个后端只允许提供一种存储服务。如果单套华为存储系统可以同时提供SAN和NAS的存储服务时，可以配置创建多个后端，每个后端使用不同的存储服务类型。&#xA;name&#xA;存储后端名称。支持小写字母、数字和特殊字符&#34;-&#34;，且需要以字母或数字开头，最多63个字符。&#xA;是&#xA;-&#xA;请保证存储后端名称唯一。&#xA;namespace&#xA;命名空间。&#xA;否&#xA;-&#xA;存储后端必须与华为CSI在相同的命名空间中。&#xA;vstoreName&#xA;存储侧的租户名称。当对接后端是OceanStor V5存储，需要在指定租户下发放资源时，需要指定该参数。&#xA;条件必选&#xA;-&#xA;仅对接后端是OceanStor V5且需要支持租户时，需要指定该参数。&#xA;accountName&#xA;存储侧的账户名称。当对接资源是OceanStor Pacific NAS存储，需要在指定账户下发放NAS资源时，需要指定该参数。&#xA;条件必选&#xA;-&#xA;仅对接后端是OceanStor Pacific NAS存储且需要支持账号时，需要指定该参数。&#xA;urls&#xA;存储设备的管理URL。参数格式为列表。支持按照域名或者IP+端口的方式进行配置。仅支持IPv4。&#xA;是&#xA;-&#xA;当对接后端是OceanStor或OceanStor Dorado存储，需要在指定租户下发放资源时，该参数配置为指定租户的逻辑管理端口URL。&#xA;pools&#xA;存储设备的存储池。参数格式为列表。&#xA;条件必选&#xA;-&#xA;storage为oceanstor-dtree时， 可以不填。&#xA;parameters.protocol&#xA;存储协议。参数格式为字符串。&#xA;iscsifcrocefc-nvmenfsdpcscsi 是&#xA;-&#xA;使用iscsi时，请确保对接的计算节点已安装iSCSI客户端。使用nfs时，请确保对接的计算节点已安装NFS客户端工具。使用fc-nvme/roce时，请确保对接的计算节点已安装nvme-cli工具，工具版本仅支持1.x且版本不低于1.9。使用dpc时，请确保对接的计算节点已安装DPC客户端，并已在待接入存储上添加为DPC计算节点。使用scsi时，请确保对接的计算节点已安装分布式存储VBS客户端。 parameters.portals&#xA;业务访问端口。节点会使用该端口对存储资源进行读写访问。参数格式为一个列表&#xA;iscsi，roce协议支持配置多个端口，nfs协议仅支持配置一个端口，fc、fc-nvme、dpc协议无需配置业务端口，scsi协议的端口形式为字典格式，key为主机名称，value为IP地址，仅支持IPv4。&#xA;条件必选&#xA;-&#xA;使用租户/账户对接后端时，此时portals必须配置为租户/账户所拥有的逻辑端口信息。如果使用nfs协议，支持填写为域名地址。 parameters.ALUA&#xA;存储后端ALUA参数配置。当工作节点使用操作系统原生多路径，且启用了ALUA时，需要进行配置。&#xA;条件必选&#xA;-&#xA;如果主机多路径配置启用了ALUA，请确保后端ALUA配置和主机的ALUA配置一致。</description>
    </item>
  </channel>
</rss>
